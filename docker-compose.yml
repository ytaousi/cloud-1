version: '3'
services:
  nginx:
    container_name: nginx
    pull_policy: never
    build: 
      context: ./nginx
      dockerfile: Dockerfile
    image: nginx:yassir
    volumes:
      - ./volumes/wordpress:/var/www/html/wordpress
      - ./volumes/phpmyadmin:/var/www/html/phpmyadmin
    ports:
      - 8443:443
    depends_on:
      - wordpress
  # mariadb:
  #   container_name: mariadb
  #   build: ./mariadb
  #   image: mariadb:yassir
  #   pull_policy: never
  #   env_file:
  #     - .env_variables
  #   volumes:
  #     - ./volumes/database:/var/lib/mysql
  wordpress:
    container_name: php-fpm
    build: ./wordpress
    image: php-fpm:yassir
    pull_policy: never
    volumes:
      - ./volumes/wordpress:/var/www/html/wordpress
      - ./volumes:/var/www/html/
    env_file:
      - .env_variables
    # depends_on:
    #   - mariadb
    
